{% extends "base.html" %}
{% block title %}
  PrijateliTree - View Round
{% endblock title %}
{% block content %}
  <div class="container-sm general-container">
    <p>Round: {{ current_round }}</p>
    {% if first_round %}
      <h2>
        Your Ball:
        {% if ball == 'R' %}
          <span class="text-danger">{{ text.util.red }}</span>
        {% elif ball == 'B' %}
          <span class="text-primary">{{ text.util.blue }}</span>
        {% else %}
          {{ ball }}
        {% endif %}
      </h2>
    {% else %}
      <h1>Your Previous Guess</h1>
      <h2>
        {% if previous_answers.your_previous_answer == 'R' %}
          <span class="text-danger">{{ text.util.red }}</span>
        {% elif previous_answers.your_previous_answer == 'B' %}
          <span class="text-primary">{{ text.util.blue }}</span>
        {% else %}
          {{ previous_answers.your_previous_answer }}
        {% endif %}
      </h2>
      <h1>{{ text.game_other_rounds.see_what_others_guessed }}</h1>
      <ul style="list-style: none; padding: 0;">
        {% for index in previous_answers.neighbors_previous_answer %}
          {% set neighbor_answer = previous_answers.neighbors_previous_answer[loop.index-1] %}
          {% set neighbor_name = previous_answers.neighbors_names[loop.index-1] %}
          <li style="font-size: 24px; margin-bottom: 20px;">
            {% if neighbor_answer == 'R' %}
              <span>{{ neighbor_name }}</span><span class="text-danger">{{ text.util.red }}</span>
            {% elif neighbor_answer == 'B' %}
              <span>{{ neighbor_name }}</span><span class="text-primary">{{ text.util.blue }}</span>
            {% else %}
              {{ neighbor_answer }}
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    {% endif %}
    <!-- Dummy buttons -->
    <h1>{{ text.game_first_round.guess_color }}</h1>
    <!-- Button for 'Red' answer -->
    <form action="/{{ game_id }}/player/{{ player_id }}/answer" method="post">
      <input type="hidden" name="player_answer" value="R">
      <button type="submit" class="btn btn-danger">{{ text.util.red }}</button>
    </form>
    <!-- Button for 'Blue' answer -->
    <form action="/{{ game_id }}/player/{{ player_id }}/answer" method="post">
      <input type="hidden" name="player_answer" value="B">
      <button type="submit" class="btn btn-primary">{{ text.util.blue }}</button>
    </form>
  </div>
{% endblock content %}
